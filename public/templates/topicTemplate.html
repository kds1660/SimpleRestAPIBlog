<div class="topic" ng-if="viewformat==='list'" ng-repeat="names in topic.data track by $index">
    <h1>{{names.name}}</h1>
    <p class="lead"><span class="glyphicon glyphicon-time"></span> by <span class="author">{{names.author}}</span> at
        <span class="date">{{names.date|date:'MM/dd/yyyy HH:mm:ss'}}</span></p>
    <p>
            <span class="comments">
                <span class="glyphicon glyphicon-check">
                    <b>{{names.comments}} comments</b>
                    <div class="buttons">
<input class="viewButton btn btn-info" type="button" value="View" ng-click="viewTopic($index)">
<input class="viewButton btn btn-info" type="button" value="Edit" ng-if="isLogged===names.author" ng-click="edit($index)">
<input class="viewButton btn btn-info" type="button" value="Delete" ng-if="isLogged===names.author" ng-click="deleteTopic($index)">
                    </div>
                </span>
            </span>
    </p>

    <img width="200" ng-src="{{names.img||'img/no-image.png'}}" alt="">
    <div class="textDiv" height="200" ng-bind-html="names.text|to_html"></div>
</div>

<div ng-if="viewformat==='view'">
    <h1>{{thisTopic.name}}</h1>
    <p class="lead"><span class="glyphicon glyphicon-time"></span> by <span class="author">{{thisTopic.author}}</span> at
        <span class="date">{{thisTopic.date|date:'MM/dd/yyyy HH:mm:ss'}}</span></p>
    <p>
            <span class="comments">
                <span class="glyphicon glyphicon-check">
                    <b>{{thisTopic.comments}} comments</b>
                    <div class="buttons">
                    </div>
                </span>
            </span>
    </p>

    <img width="200" ng-src="{{thisTopic.img||'img/no-image.png'}}" alt="">
    <div class="textDiv" ng-bind-html="thisTopic.textFull|to_html"></div>
    <input class="viewButton btn btn-info" type="button" value="Back" ng-click="back()">
</div>

<div ng-if="viewformat==='edit'">
    <h2>Edit topic</h2>
                    <input type='text' class='edit name' placeholder="Topic name" value="{{thisTopic.name}}" ng-model="thisTopic.name">
                    <input type='text' class='edit author' placeholder="Author" value="{{thisTopic.author}}" ng-model="thisTopic.author">
                    <img id="previewImg" height="200" ng-src="{{thisTopic.imgnew||thisTopic.img||'img/no-image.png'}} " ng-model="thisTopic.imgnew"/>
                    <input class='image' type="file" name="pic[]" accept="image/*" fileread="thisTopic.imgnew">
                    <textarea class='edit text' placeholder="Text there">{{thisTopic.textFull}}</textarea>
                    <input type='text' id="oldTopic" style="display: none;" value="{{thisTopic.oldTopic}}">
                <div class="modal-footer">
                    <div class="alert alert-danger collapse" tabindex="-1" role="alert">
                    </div>
                    <div class="alert alert-success collapse" tabindex="-1" role="alert">
                    </div>
                </div>
    <input class="viewButton btn btn-info" type="button" value="Save" ng-click="SaveTopic()">
    <input class="viewButton btn btn-info" type="button" value="Cancel" ng-click="back()">
</div>